(function(){var A,K,M,I,h,H,j,R,S,q,d,p,m,z,W,F,s,f,Q,w,o,x,T,O,U,E,k,a,Y,u,V,B,b,C,y,D,J,X,c,l,Z,v,L,e,aa,r,P,t,n,G=[].slice,N={}.hasOwnProperty,i=function(ad,ab){for(var ae in ab){if(N.call(ab,ae)){ad[ae]=ab[ae]}}function ac(){this.constructor=ad}ac.prototype=ab.prototype;ad.prototype=new ac();ad.__super__=ab.prototype;return ad},g=[].indexOf||function(ac){for(var ab=0,ad=this.length;ab<ad;ab++){if(ab in this&&this[ab]===ac){return ab}}return -1};o={catchupTime:100,initialRate:0.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:true,restartOnPushState:true,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:true,ignoreURLs:[]}};Y=function(){var ab;return(ab=typeof performance!=="undefined"&&performance!==null?typeof performance.now==="function"?performance.now():void 0:void 0)!=null?ab:+(new Date)};V=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;w=window.cancelAnimationFrame||window.mozCancelAnimationFrame;if(V==null){V=function(ab){return setTimeout(ab,50)};w=function(ab){return clearTimeout(ab)}}b=function(ab){var ad,ac;ad=Y();ac=function(){var ae;ae=Y()-ad;if(ae>=33){ad=Y();return ab(ae,function(){return V(ac)})}else{return setTimeout(ac,33-ae)}};return ac()};B=function(){var ab,ad,ac;ac=arguments[0],ad=arguments[1],ab=3<=arguments.length?G.call(arguments,2):[];if(typeof ac[ad]==="function"){return ac[ad].apply(ac,ab)}else{return ac[ad]}};x=function(){var ah,ac,ab,ag,ae,ad,af;ac=arguments[0],ag=2<=arguments.length?G.call(arguments,1):[];for(ad=0,af=ag.length;ad<af;ad++){ab=ag[ad];if(ab){for(ah in ab){if(!N.call(ab,ah)){continue}ae=ab[ah];if((ac[ah]!=null)&&typeof ac[ah]==="object"&&(ae!=null)&&typeof ae==="object"){x(ac[ah],ae)}else{ac[ah]=ae}}}}return ac};s=function(ab){var ac,ae,af,ag,ad;ae=ac=0;for(ag=0,ad=ab.length;ag<ad;ag++){af=ab[ag];ae+=Math.abs(af);ac++}return ae/ac};O=function(ag,ae){var ab,ac,af;if(ag==null){ag="options"}if(ae==null){ae=true}af=document.querySelector("[data-pace-"+ag+"]");if(!af){return}ab=af.getAttribute("data-pace-"+ag);if(!ae){return ab}try{return JSON.parse(ab)}catch(ad){ac=ad;return typeof console!=="undefined"&&console!==null?console.error("Error parsing inline pace options",ac):void 0}};j=(function(){function ab(){}ab.prototype.on=function(ae,ac,ag,af){var ad;if(af==null){af=false}if(this.bindings==null){this.bindings={}}if((ad=this.bindings)[ae]==null){ad[ae]=[]}return this.bindings[ae].push({handler:ac,ctx:ag,once:af})};ab.prototype.once=function(ad,ac,ae){return this.on(ad,ac,ae,true)};ab.prototype.off=function(ae,ac){var ad,ag,af;if(((ag=this.bindings)!=null?ag[ae]:void 0)==null){return}if(ac==null){return delete this.bindings[ae]}else{ad=0;af=[];while(ad<this.bindings[ae].length){if(this.bindings[ae][ad].handler===ac){af.push(this.bindings[ae].splice(ad,1))}else{af.push(ad++)}}return af}};ab.prototype.trigger=function(){var ak,ag,ai,af,ad,ah,ac,aj,ae;ai=arguments[0],ak=2<=arguments.length?G.call(arguments,1):[];if((ac=this.bindings)!=null?ac[ai]:void 0){ad=0;ae=[];while(ad<this.bindings[ai].length){aj=this.bindings[ai][ad],af=aj.handler,ag=aj.ctx,ah=aj.once;af.apply(ag!=null?ag:this,ak);if(ah){ae.push(this.bindings[ai].splice(ad,1))}else{ae.push(ad++)}}return ae}};return ab})();q=window.Pace||{};window.Pace=q;x(q,j.prototype);u=q.options=x({},o,window.paceOptions,O());P=["ajax","document","eventLag","elements"];for(L=0,aa=P.length;L<aa;L++){J=P[L];if(u[J]===true){u[J]=o[J]}}S=(function(ac){i(ab,ac);function ab(){t=ab.__super__.constructor.apply(this,arguments);return t}return ab})(Error);K=(function(){function ab(){this.progress=0}ab.prototype.getElement=function(){var ac;if(this.el==null){ac=document.querySelector(u.target);if(!ac){throw new S}this.el=document.createElement("div");this.el.className="pace pace-active";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';if(ac.firstChild!=null){ac.insertBefore(this.el,ac.firstChild)}else{ac.appendChild(this.el)}}return this.el};ab.prototype.finish=function(){var ac;ac=this.getElement();ac.className=ac.className.replace("pace-active","");ac.className+=" pace-inactive";if(Loadgo&&LOADGO_LOGO){document.getElementsByTagName("body")[0].style.overflow="initial";document.getElementById("loadgo-logo-overlay").style.display="none"}return""};ab.prototype.update=function(ac){this.progress=ac;return this.render()};ab.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(ac){S=ac}return this.el=void 0};ab.prototype.render=function(){var ag,ah,ad,af,ae,ac,ai;if(document.querySelector(u.target)==null){return false}ag=this.getElement();af="translate3d("+this.progress+"%, 0, 0)";ai=["webkitTransform","msTransform","transform"];for(ae=0,ac=ai.length;ae<ac;ae++){ah=ai[ae];ag.children[0].style[ah]=af}if(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0){ag.children[0].setAttribute("data-progress-text",""+(this.progress|0)+"%");if(this.progress>=100){ad="99"}else{ad=this.progress<10?"0":"";ad+=this.progress|0}ag.children[0].setAttribute("data-progress",""+ad)}return this.lastRenderedProgress=this.progress};ab.prototype.done=function(){return this.progress>=100};return ab})();R=(function(){function ab(){this.bindings={}}ab.prototype.trigger=function(ah,ae){var ag,ac,ad,ai,af;if(this.bindings[ah]!=null){ai=this.bindings[ah];af=[];for(ac=0,ad=ai.length;ac<ad;ac++){ag=ai[ac];af.push(ag.call(this,ae))}return af}};ab.prototype.on=function(ae,ad){var ac;if((ac=this.bindings)[ae]==null){ac[ae]=[]}return this.bindings[ae].push(ad)};return ab})();v=window.XMLHttpRequest;Z=window.XDomainRequest;l=window.WebSocket;T=function(ag,ae){var af,ab,ac;ac=[];for(ab in ae.prototype){try{if((ag[ab]==null)&&typeof ae[ab]!=="function"){if(typeof Object.defineProperty==="function"){ac.push(Object.defineProperty(ag,ab,{get:function(){return ae.prototype[ab]},configurable:true,enumerable:true}))}else{ac.push(ag[ab]=ae.prototype[ab])}}else{ac.push(void 0)}}catch(ad){af=ad}}return ac};k=[];q.ignore=function(){var ad,ac,ab;ac=arguments[0],ad=2<=arguments.length?G.call(arguments,1):[];k.unshift("ignore");ab=ac.apply(null,ad);k.shift();return ab};q.track=function(){var ad,ac,ab;ac=arguments[0],ad=2<=arguments.length?G.call(arguments,1):[];k.unshift("track");ab=ac.apply(null,ad);k.shift();return ab};D=function(ab){var ac;if(ab==null){ab="GET"}if(k[0]==="track"){return"force"}if(!k.length&&u.ajax){if(ab==="socket"&&u.ajax.trackWebSockets){return true}else{if(ac=ab.toUpperCase(),g.call(u.ajax.trackMethods,ac)>=0){return true}}}return false};d=(function(ab){i(ac,ab);function ac(){var ae,ad=this;ac.__super__.constructor.apply(this,arguments);ae=function(ah){var ag;ag=ah.open;return ah.open=function(aj,ai,ak){if(D(aj)){ad.trigger("request",{type:aj,url:ai,request:ah})}return ag.apply(ah,arguments)}};window.XMLHttpRequest=function(ag){var ah;ah=new v(ag);ae(ah);return ah};try{T(window.XMLHttpRequest,v)}catch(af){}if(Z!=null){window.XDomainRequest=function(){var ag;ag=new Z;ae(ag);return ag};try{T(window.XDomainRequest,Z)}catch(af){}}if((l!=null)&&u.ajax.trackWebSockets){window.WebSocket=function(ag,ai){var ah;if(ai!=null){ah=new l(ag,ai)}else{ah=new l(ag)}if(D("socket")){ad.trigger("request",{type:"socket",url:ag,protocols:ai,request:ah})}return ah};try{T(window.WebSocket,l)}catch(af){}}}return ac})(R);e=null;U=function(){if(e==null){e=new d}return e};y=function(ab){var af,ad,ac,ae;ae=u.ajax.ignoreURLs;for(ad=0,ac=ae.length;ad<ac;ad++){af=ae[ad];if(typeof af==="string"){if(ab.indexOf(af)!==-1){return true}}else{if(af.test(ab)){return true}}}return false};U().on("request",function(ac){var ab,ag,ad,ae,af;ae=ac.type,ad=ac.request,af=ac.url;if(y(af)){return}if(!q.running&&(u.restartOnRequestAfter!==false||D(ae)==="force")){ag=arguments;ab=u.restartOnRequestAfter||0;if(typeof ab==="boolean"){ab=0}return setTimeout(function(){var ai,aj,ah,am,al,ak;if(ae==="socket"){ai=ad.readyState<2}else{ai=(0<(am=ad.readyState)&&am<4)}if(ai){q.restart();al=q.sources;ak=[];for(aj=0,ah=al.length;aj<ah;aj++){J=al[aj];if(J instanceof A){J.watch.apply(J,ag);break}else{ak.push(void 0)}}return ak}},ab)}});A=(function(){function ab(){var ac=this;this.elements=[];U().on("request",function(){return ac.watch.apply(ac,arguments)})}ab.prototype.watch=function(ag){var af,ad,ae,ac;ae=ag.type,af=ag.request,ac=ag.url;if(y(ac)){return}if(ae==="socket"){ad=new z(af)}else{ad=new W(af)}return this.elements.push(ad)};return ab})();W=(function(){function ab(ag){var ah,ae,ad,ac,af,aj,ai=this;this.progress=0;if(window.ProgressEvent!=null){ae=null;ag.addEventListener("progress",function(ak){if(ak.lengthComputable){return ai.progress=100*ak.loaded/ak.total}else{return ai.progress=ai.progress+(100-ai.progress)/2}},false);aj=["load","abort","timeout","error"];for(ad=0,ac=aj.length;ad<ac;ad++){ah=aj[ad];ag.addEventListener(ah,function(){return ai.progress=100},false)}}else{af=ag.onreadystatechange;ag.onreadystatechange=function(){var ak;if((ak=ag.readyState)===0||ak===4){ai.progress=100}else{if(ag.readyState===3){ai.progress=50}}return typeof af==="function"?af.apply(null,arguments):void 0}}}return ab})();z=(function(){function ab(ae){var af,ad,ac,ah,ag=this;this.progress=0;ah=["error","open"];for(ad=0,ac=ah.length;ad<ac;ad++){af=ah[ad];ae.addEventListener(af,function(){return ag.progress=100},false)}}return ab})();I=(function(){function ab(ag){var af,ad,ac,ae;if(ag==null){ag={}}this.elements=[];if(ag.selectors==null){ag.selectors=[]}ae=ag.selectors;for(ad=0,ac=ae.length;ad<ac;ad++){af=ae[ad];this.elements.push(new h(af))}}return ab})();h=(function(){function ab(ac){this.selector=ac;this.progress=0;this.check()}ab.prototype.check=function(){var ac=this;if(document.querySelector(this.selector)){return this.done()}else{return setTimeout((function(){return ac.check()}),u.elements.checkInterval)}};ab.prototype.done=function(){return this.progress=100};return ab})();M=(function(){ab.prototype.states={loading:0,interactive:50,complete:100};function ab(){var ae,ad,ac=this;this.progress=(ad=this.states[document.readyState])!=null?ad:100;ae=document.onreadystatechange;document.onreadystatechange=function(){if(ac.states[document.readyState]!=null){ac.progress=ac.states[document.readyState]}return typeof ae==="function"?ae.apply(null,arguments):void 0}}return ab})();H=(function(){function ab(){var ae,ah,ad,ac,ag,af=this;this.progress=0;ae=0;ag=[];ac=0;ad=Y();ah=setInterval(function(){var ai;ai=Y()-ad-50;ad=Y();ag.push(ai);if(ag.length>u.eventLag.sampleCount){ag.shift()}ae=s(ag);if(++ac>=u.eventLag.minSamples&&ae<u.eventLag.lagThreshold){af.progress=100;return clearInterval(ah)}else{return af.progress=100*(3/(ae+3))}},50)}return ab})();m=(function(){function ab(ac){this.source=ac;this.last=this.sinceLastUpdate=0;this.rate=u.initialRate;this.catchup=0;this.progress=this.lastProgress=0;if(this.source!=null){this.progress=B(this.source,"progress")}}ab.prototype.tick=function(ac,ad){var ae;if(ad==null){ad=B(this.source,"progress")}if(ad>=100){this.done=true}if(ad===this.last){this.sinceLastUpdate+=ac}else{if(this.sinceLastUpdate){this.rate=(ad-this.last)/this.sinceLastUpdate}this.catchup=(ad-this.progress)/u.catchupTime;this.sinceLastUpdate=0;this.last=ad}if(ad>this.progress){this.progress+=this.catchup*ac}ae=1-Math.pow(this.progress/100,u.easeFactor);this.progress+=ae*this.rate*ac;this.progress=Math.min(this.lastProgress+u.maxProgressPerFrame,this.progress);this.progress=Math.max(0,this.progress);this.progress=Math.min(100,this.progress);this.lastProgress=this.progress;return this.progress};return ab})();X=null;C=null;f=null;c=null;F=null;Q=null;q.running=false;E=function(){if(u.restartOnPushState){return q.restart()}};if(window.history.pushState!=null){r=window.history.pushState;window.history.pushState=function(){E();return r.apply(window.history,arguments)}}if(window.history.replaceState!=null){n=window.history.replaceState;window.history.replaceState=function(){E();return n.apply(window.history,arguments)}}p={ajax:A,elements:I,document:M,eventLag:H};(a=function(){var ag,ae,af,ab,ad,ai,ah,ac;q.sources=X=[];ai=["ajax","elements","document","eventLag"];for(ae=0,ab=ai.length;ae<ab;ae++){ag=ai[ae];if(u[ag]!==false){X.push(new p[ag](u[ag]))}}ac=(ah=u.extraSources)!=null?ah:[];for(af=0,ad=ac.length;af<ad;af++){J=ac[af];X.push(new J(u))}q.bar=f=new K;C=[];return c=new m})();q.stop=function(){q.trigger("stop");q.running=false;f.destroy();Q=true;if(F!=null){if(typeof w==="function"){w(F)}F=null}return a()};q.restart=function(){q.trigger("restart");q.stop();return q.start()};q.go=function(){var ab;q.running=true;f.render();ab=Y();Q=false;return F=b(function(ap,aj){var ag,ac,ah,al,ar,an,af,aq,am,ao,at,ae,ak,av,ad,au;aq=100-f.progress;ac=at=0;ah=true;for(an=ae=0,av=X.length;ae<av;an=++ae){J=X[an];ao=C[an]!=null?C[an]:C[an]=[];ar=(au=J.elements)!=null?au:[J];for(af=ak=0,ad=ar.length;ak<ad;af=++ak){al=ar[af];am=ao[af]!=null?ao[af]:ao[af]=new m(al);ah&=am.done;if(am.done){continue}ac++;at+=am.tick(ap)}}ag=at/ac;var ai=c.tick(ap,ag);f.update(ai);if(Loadgo&&LOADGO_LOGO){if(!isNaN(ai)){Loadgo.setprogress(LOADGO_LOGO,ai);if(document.getElementById("loadgo-progress")){document.getElementById("loadgo-progress").innerHTML=parseInt(ai)+"%"}}}if(f.done()||ah||Q){if(Loadgo&&LOADGO_LOGO){Loadgo.setprogress(LOADGO_LOGO,100);if(document.getElementById("loadgo-progress")){document.getElementById("loadgo-progress").innerHTML="100%"}}f.update(100);q.trigger("done");return setTimeout(function(){f.finish();q.running=false;return q.trigger("hide")},Math.max(u.ghostTime,Math.max(u.minTime-(Y()-ab),0)))}else{return aj()}})};q.start=function(ac){x(u,ac);q.running=true;try{f.render()}catch(ab){S=ab}if(!document.querySelector(".pace")){return setTimeout(q.start,50)}else{q.trigger("start");return q.go()}};if(typeof define==="function"&&define.amd){define(["pace"],function(){return q})}else{if(typeof exports==="object"){module.exports=q}else{if(u.startOnPageLoad){q.start()}}}}).call(this);
